# Editing Projects

プロジェクトを作成したら、後で変更できる特定の側面があります。

## Adding Members

プロジェクトを作成したら、そのユーザーがそのリソースにアクセスできるように、ユーザーをプロジェクトメンバーとして追加できます。

> **ping、Keycloak、およびMS FSの注意事項：**  
> - IdPは検索や検索をサポートしていません。
> ユーザーをプロジェクトに追加するときは、正確なIDを正しく入力する必要があります。
> - ユーザーをプロジェクトに追加するときに、アクセス制御をオンにした管理者がそのグループのメンバーでない限り、グループIDはサポートされません。
> - 管理者を含むグループをプロジェクトに追加するときは、検索バーではなくドロップダウンから追加します。
> 検索バーを使用してグループを追加しても、そのグループは追加されません。

1. **グローバル**ビューから、メンバーを追加したいプロジェクトを開きます。

1. メインメニューから、**メンバー**を選択します。 次に**メンバーを追加**をクリックします。

1. プロジェクトに追加したいユーザーまたはグループを検索します。

    外部認証が設定されている場合

    - Rancherは、入力時に外部認証ソースからユーザーを返します。
    - ドロップダウンを使用すると、個々のユーザーの代わりにグループを追加できます。 ドロップダウンリストには、あなた（ログインユーザー）が含まれるグループのみが一覧表示されます。

    > **Note：**  
    > ローカルユーザーとしてログインしている場合、外部ユーザーは検索結果に表示されません。

1. ユーザーまたはグループに**プロジェクト**ロールを割り当てます。
    [プロジェクトのroleとは](https://rancher.com/docs/rancher/v2.x/en/admin-settings/rbac/cluster-project-roles/)

    > **Note：**  
    > - プロジェクトに `Owner` または `Member` の役割を割り当てられたユーザーは、`名前空間作成`の役割を自動的に継承します。
    > ただし、この役割は [Kubernetes ClusterRole](https://kubernetes.io/docs/reference/access-authn-authz/rbac/#role-and-clusterrole)です。
    > つまり、その役割はクラスタ内のすべてのプロジェクトに及んでいます。
    > そのため、プロジェクトに `Owner` または `Member` の役割を明示的に割り当てたユーザーは、`読み取り専用`の役割のみを割り当てた場合でも、自分が割り当てられている他のプロジェクトに名前空間を作成できます。
    > - `カスタム`ロールの場合は、割り当て可能な個々のロールのリストを変更できます。
    >   - リストに役割を追加するには、[カスタム役割を追加](https://rancher.com/docs/rancher/v2.x/en/admin-settings/rbac/default-custom-roles/)します。
    >   - リストからロールを削除するには、[ロールのロック/ロック解除](https://rancher.com/docs/rancher/v2.x/en/admin-settings/rbac/locked-roles/)をクリックします。

**結果：** 選択したユーザがプロジェクトに追加されます。

- プロジェクトメンバーシップを取り消すには、ユーザーを選択して**削除**をクリックします。
この操作により、ユーザーではなくメンバーシップが削除されます。

- プロジェクト内のユーザーのロールを変更するには、それらをプロジェクトから削除してから、変更したロールを使用してそれらを再度追加します。

## Editing the Pod Security Policy

> **Note：**  
> これらのクラスタオプションは、[RancherがKubernetesを立ち上げたクラスタ](https://rancher.com/docs/rancher/v2.x/en/cluster-provisioning/rke-clusters/)にのみ使用できます。

作成中にPSPを割り当てなかった場合は、いつでも既存のプロジェクトにPSPを割り当てることができます。

> **前提条件：**  
> - Rancher内にPodセキュリティポリシーを作成します。
> デフォルトのPSPを既存のプロジェクトに割り当てる前に、PSPを割り当て可能にしておく必要があります。
> 手順については、[Podセキュリティポリシーを作成する](https://rancher.com/docs/rancher/v2.x/en/admin-settings/pod-security-policies/)を参照してください。
> - プロジェクトのクラスタにデフォルトのPodセキュリティポリシーを割り当てます。
> PSPがすでにクラスターに適用されるまで、PSPをプロジェクトに割り当てることはできません。
> 詳細については、[既存のクラスタ：ポッドセキュリティポリシーを追加する](https://rancher.com/docs/rancher/v2.x/en/k8s-in-rancher/editing-clusters/#adding-changing-a-pod-security-policy)を参照してください。

1. **グローバル**ビューから、PSPを適用したいプロジェクトを含むクラスターを見つけます。

1. メインメニューから**プロジェクト/ネームスペース**を選択します。

1. PSPを追加したいプロジェクトを見つけます。
そのプロジェクトから、`Vertical Ellipsis (…) > Edit`を選択します。

1. **ポッドセキュリティポリシー**ドロップダウンから、プロジェクトに適用するPSPを選択します。
PSPをプロジェクトに割り当てると、次のようになります。
    - クラスタのデフォルトPSPを上書きします。
    - PSPをプロジェクトに適用します。
    - 後でプロジェクトに追加する名前空間にPSPを適用します。

1. **保存**をクリックします。

**結果：** PSPがプロジェクトに適用され、名前空間がプロジェクトに追加されます。

> **Note：**  
> PSPが割り当てられる前にクラスターまたはプロジェクトで既に実行されているワークロードは、PSPに準拠しているかどうかはチェックされません。
PSPに合格したかどうかを確認するには、ワークロードを複製またはアップグレードする必要があります。

## Editing Resource Quotas
*v2.0.1から利用可能*

次の場合に[リソース割り当て](https://rancher.com/docs/rancher/v2.x/en/k8s-in-rancher/projects-and-namespaces/resource-quotas/)を編集します。

- プロジェクトとそのネームスペースが使用できるリソースを制限します。
- リサーチクォータがすでに有効になっているときに、プロジェクトで利用可能なリソースを拡大または縮小します。

1. **グローバル**ビューから、リソースクォータを適用するプロジェクトを含むクラスタを開きます。

1. メインメニューから**プロジェクト/ネームスペース**を選択します。

1. リソースクォータを追加するプロジェクトを見つけます。
そのプロジェクトから、`Ellipsis (…) > Edit`を選択します。

1. **リソース割り当て量**を展開し、**割り当て量の追加**をクリックします。
あるいは、既存のクォータを編集することもできます。

1. [リソースの種類](https://rancher.com/docs/rancher/v2.x/en/k8s-in-rancher/projects-and-namespaces/resource-quotas/#resource-quota-types)を選択します。

1. **プロジェクト制限**と**名前空間のデフォルト制限**の値を入力します。

    | Field | Description |
    | --- | --- |
    | Project Limit | プロジェクトの全体的なリソース制限。 |
    | Namespace Default Limit | 各ネームスペースで利用可能なデフォルトのリソース制限。 この制限は、プロジェクト内の各ネームスペースに伝播されます。 すべてのプロジェクトの名前空間を合わせた制限が、プロジェクトの制限を超えてはいけません。 |

1. **オプション：** さらにクォータを追加します。

1. **作成** をクリックします。

**結果：** リソース割り当て量がプロジェクトとネームスペースに適用されます。
将来ネームスペースを追加するとき、Rancherはプロジェクトがネームスペースを収容できることを検証します。
プロジェクトがリソースを割り当てられない場合、Rancherは変更を保存させません。


